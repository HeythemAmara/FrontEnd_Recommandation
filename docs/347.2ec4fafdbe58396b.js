"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[347],{9347:(k,c,o)=>{o.r(c),o.d(c,{LoginModule:()=>S});var u=o(177),m=o(4007),e=o(3953),v=o(5768),b=o(7693),M=o(8127),d=o(1141),p=o(5430),h=o(2242),a=o(4341),f=o(3057);function y(r,w){if(1&r&&(e.j41(0,"div",26),e.EFF(1),e.k0s()),2&r){const i=e.XpG();e.R7$(),e.JRh(i.errorMessage)}}let x=(()=>{class r{userService;layoutService;router;authService;valCheck=["remember"];email="";password="";rememberMe=!1;errorMessage="";constructor(i,t,n,l){this.userService=i,this.layoutService=t,this.router=n,this.authService=l}onSubmit(i){i.valid&&this.userService.login(this.email,this.password).subscribe(t=>{console.log("Login successful"),this.errorMessage="",this.rememberMe?localStorage.setItem("access_token",t.access_token):sessionStorage.setItem("access_token",t.access_token),this.authService.fastload(),this.router.navigateByUrl("Orange/phones"),this.errorMessage="Your account has yet to be verified by the admins"},t=>{this.errorMessage=401===t.status?"Invalid email or password":"An error occurred. Please try again later."})}static \u0275fac=function(t){return new(t||r)(e.rXU(v.D),e.rXU(b.Y),e.rXU(m.Ix),e.rXU(M.u))};static \u0275cmp=e.VBU({type:r,selectors:[["app-login"]],decls:32,vars:6,consts:[["loginForm","ngForm"],[1,"surface-0","flex","align-items-center","justify-content-center","min-h-screen","min-w-screen","overflow-hidden"],[1,"grid","justify-content-center","p-2","lg:p-0",2,"min-width","80%"],[1,"col-12","mt-5","xl:mt-0","text-center"],["alt","Sakai logo",1,"mb-5",2,"width","81px","height","60px",3,"src"],[1,"col-12","xl:col-6",2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"],[1,"h-full","w-full","m-0","py-7","px-4",2,"border-radius","53px","background","linear-gradient(180deg, var(--surface-50) 38.9%, var(--surface-0))"],[1,"text-center","mb-5"],[1,"text-900","text-3xl","font-medium","mb-3"],[1,"text-600","font-medium"],[1,"w-full","md:w-10","mx-auto"],[3,"ngSubmit"],["for","email1",1,"block","text-900","text-xl","font-medium","mb-2"],["id","email1","type","text","placeholder","Email address","pInputText","","name","email","required","",1,"w-full","mb-3",2,"padding","1rem",3,"ngModelChange","ngModel"],["for","password1",1,"block","text-900","font-medium","text-xl","mb-2"],["id","password1","name","password","placeholder","Password","styleClass","w-full mb-3","required","",3,"ngModelChange","ngModel"],[1,"flex","align-items-center","justify-content-between","mb-5"],[1,"flex","align-items-center"],["id","rememberme1","binary","true","styleClass","mr-2","name","rememberMe",3,"ngModelChange","ngModel"],["for","rememberme1"],[1,"font-medium","no-underline","ml-2","text-right","cursor-pointer",2,"color","var(--primary-color)"],["pButton","","pRipple","","label","Sign In","type","submit",1,"w-full","p-3","text-xl"],["class","error-message text-red-500 mt-3",4,"ngIf"],[2,"text-align","center","margin-top","10px"],["href","#/auth/register"],["label","Sign Up","styleClass","p-button-link mr-2 mb-2 font-medium"],[1,"error-message","text-red-500","mt-3"]],template:function(t,n){if(1&t){const l=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3),e.nrm(3,"img",4),e.k0s(),e.j41(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8),e.EFF(8,"Welcome!"),e.k0s(),e.j41(9,"span",9),e.EFF(10,"Sign in to continue"),e.k0s()(),e.j41(11,"div",10)(12,"form",11,0),e.bIt("ngSubmit",function(){e.eBV(l);const s=e.sdS(13);return e.Njj(n.onSubmit(s))}),e.j41(14,"label",12),e.EFF(15,"Email"),e.k0s(),e.j41(16,"input",13),e.mxI("ngModelChange",function(s){return e.eBV(l),e.DH7(n.email,s)||(n.email=s),e.Njj(s)}),e.k0s(),e.j41(17,"label",14),e.EFF(18,"Password"),e.k0s(),e.j41(19,"p-password",15),e.mxI("ngModelChange",function(s){return e.eBV(l),e.DH7(n.password,s)||(n.password=s),e.Njj(s)}),e.k0s(),e.j41(20,"div",16)(21,"div",17)(22,"p-checkbox",18),e.mxI("ngModelChange",function(s){return e.eBV(l),e.DH7(n.rememberMe,s)||(n.rememberMe=s),e.Njj(s)}),e.k0s(),e.j41(23,"label",19),e.EFF(24,"Remember me"),e.k0s()(),e.j41(25,"a",20),e.EFF(26,"Forgot password?"),e.k0s()(),e.nrm(27,"button",21),e.DNE(28,y,2,1,"div",22),e.k0s(),e.j41(29,"div",23)(30,"a",24),e.nrm(31,"p-button",25),e.k0s()()()()()()()}2&t&&(e.R7$(3),e.Mz_("src","assets/layout/images/","light"===n.layoutService.config.colorScheme?"logo-dark":"logo-white",".svg",e.B4B),e.R7$(13),e.R50("ngModel",n.email),e.R7$(3),e.R50("ngModel",n.password),e.R7$(3),e.R50("ngModel",n.rememberMe),e.R7$(6),e.Y8G("ngIf",n.errorMessage))},dependencies:[u.bT,d._f,d.$n,p.Sc,h.S,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV,f._2],styles:["[_nghost-%COMP%]     .p-password input{width:100%;padding:1rem}[_nghost-%COMP%]     .pi-eye{transform:scale(1.6);margin-right:1rem;color:var(--primary-color)!important}[_nghost-%COMP%]     .pi-eye-slash{transform:scale(1.6);margin-right:1rem;color:var(--primary-color)!important}"]})}return r})(),C=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=e.$C({type:r});static \u0275inj=e.G2t({imports:[m.iI.forChild([{path:"",component:x}]),m.iI]})}return r})();var j=o(7952);let S=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=e.$C({type:r});static \u0275inj=e.G2t({imports:[u.MD,C,d.tm,p.q4,h.u,a.YN,f.Ou,j.a]})}return r})()}}]);